{"1":{"inputs":{"image":"1344x768_hair.png","upload":"image"},"class_type":"LoadImage","_meta":{"title":"Load Image"}},"3":{"inputs":{"model_name":"bbox/face_yolov8m.pt"},"class_type":"UltralyticsDetectorProvider","_meta":{"title":"UltralyticsDetectorProvider"}},"9":{"inputs":{"text":"hair","blur":1,"threshold":0.35000000000000003,"dilation_factor":30,"image":["1",0]},"class_type":"CLIPSeg","_meta":{"title":"CLIPSeg"}},"10":{"inputs":{"mask":["9",0]},"class_type":"MaskToImage","_meta":{"title":"Convert Mask to Image"}},"11":{"inputs":{"images":["10",0]},"class_type":"PreviewImage","_meta":{"title":"Preview Image"}},"13":{"inputs":{"threshold":0.5,"dilation":10,"crop_factor":3,"drop_size":10,"labels":"all","bbox_detector":["3",0],"image":["1",0]},"class_type":"BboxDetectorSEGS","_meta":{"title":"BBOX Detector (SEGS)"}},"14":{"inputs":{"model_name":"sam_vit_b_01ec64.pth","device_mode":"AUTO"},"class_type":"SAMLoader","_meta":{"title":"SAMLoader (Impact)"}},"15":{"inputs":{"detection_hint":"center-1","dilation":0,"threshold":0.93,"bbox_expansion":0,"mask_hint_threshold":0.7,"mask_hint_use_negative":"False","sam_model":["14",0],"segs":["13",0],"image":["1",0]},"class_type":"SAMDetectorCombined","_meta":{"title":"SAMDetector (combined)"}},"16":{"inputs":{"mask":["15",0]},"class_type":"MaskToImage","_meta":{"title":"Convert Mask to Image"}},"17":{"inputs":{"images":["16",0]},"class_type":"PreviewImage","_meta":{"title":"Preview Image"}},"19":{"inputs":{"mask1":["9",0],"mask2":["15",0]},"class_type":"SubtractMask","_meta":{"title":"Bitwise(MASK - MASK)"}},"20":{"inputs":{"mask":["30",0]},"class_type":"MaskToImage","_meta":{"title":"Convert Mask to Image"}},"21":{"inputs":{"images":["20",0]},"class_type":"PreviewImage","_meta":{"title":"Preview Image"}},"22":{"inputs":{"combined":true,"crop_factor":2,"bbox_fill":false,"drop_size":10,"contour_fill":false,"mask":["30",0]},"class_type":"MaskToSEGS","_meta":{"title":"MASK to SEGS"}},"24":{"inputs":{"guide_size":256,"guide_size_for":true,"max_size":768,"seed":376934336013155,"steps":20,"cfg":8,"sampler_name":"euler","scheduler":"normal","denoise":0.6,"feather":5,"noise_mask":true,"force_inpaint":true,"wildcard":"","refiner_ratio":0.2,"cycle":1,"inpaint_model":false,"noise_mask_feather":20,"image":["1",0],"segs":["22",0],"basic_pipe":["78:3",0]},"class_type":"DetailerForEachDebugPipe","_meta":{"title":"DetailerDebug (SEGS/pipe)"}},"26":{"inputs":{"images":["24",0]},"class_type":"PreviewImage","_meta":{"title":"STEP 2: Hair restyled"}},"27":{"inputs":{"images":["1",0]},"class_type":"PreviewImage","_meta":{"title":"STEP 1: Original Image"}},"30":{"inputs":{"threshold":100,"mask":["19",0]},"class_type":"ToBinaryMask","_meta":{"title":"ToBinaryMask"}},"43":{"inputs":{"seed":687187522021415,"steps":20,"cfg":8,"sampler_name":"euler","scheduler":"normal","denoise":0.3,"basic_pipe":["78:3",0],"latent_image":["51",0]},"class_type":"ImpactKSamplerBasicPipe","_meta":{"title":"KSampler (pipe)"}},"44":{"inputs":{"pixels":["24",0],"vae":["45",2]},"class_type":"VAEEncode","_meta":{"title":"VAE Encode"}},"45":{"inputs":{"basic_pipe":["78:3",0]},"class_type":"FromBasicPipe","_meta":{"title":"FromBasicPipe"}},"46":{"inputs":{"samples":["43",1],"vae":["43",2]},"class_type":"VAEDecode","_meta":{"title":"VAE Decode"}},"47":{"inputs":{"images":["46",0]},"class_type":"PreviewImage","_meta":{"title":"STEP 3: Refined"}},"48":{"inputs":{"images":["24",3]},"class_type":"PreviewImage","_meta":{"title":"Preview Image"}},"49":{"inputs":{"mask":["15",0]},"class_type":"InvertMask","_meta":{"title":"InvertMask"}},"51":{"inputs":{"samples":["44",0],"mask":["49",0]},"class_type":"SetLatentNoiseMask","_meta":{"title":"Set Latent Noise Mask"}},"54":{"inputs":{"mask":["49",0]},"class_type":"MaskToImage","_meta":{"title":"Convert Mask to Image"}},"55":{"inputs":{"images":["54",0]},"class_type":"PreviewImage","_meta":{"title":"Preview Image"}},"67":{"inputs":{"guide_size":256,"guide_size_for":true,"max_size":768,"seed":376934336013155,"steps":20,"cfg":8,"sampler_name":"euler","scheduler":"normal","denoise":0.6,"feather":5,"noise_mask":true,"force_inpaint":true,"wildcard":"","refiner_ratio":0.2,"cycle":1,"inpaint_model":false,"noise_mask_feather":20,"image":["24",0],"segs":["22",0],"basic_pipe":["78:3",0]},"class_type":"DetailerForEachDebugPipe","_meta":{"title":"DetailerDebug (SEGS/pipe)"}},"68":{"inputs":{"images":["67",0]},"class_type":"PreviewImage","_meta":{"title":"Preview Image"}},"78:0":{"inputs":{"ckpt_name":"sd15/DreamShaper_v8.safetensors"},"class_type":"CheckpointLoaderSimple","_meta":{"title":"Load Checkpoint"}},"78:1":{"inputs":{"text":"blond curly hair","clip":["78:0",1]},"class_type":"CLIPTextEncode","_meta":{"title":"CLIP Text Encode (Prompt)"}},"78:2":{"inputs":{"text":"","clip":["78:0",1]},"class_type":"CLIPTextEncode","_meta":{"title":"CLIP Text Encode (Prompt)"}},"78:3":{"inputs":{"model":["78:0",0],"clip":["78:0",1],"vae":["78:0",2],"positive":["78:1",0],"negative":["78:2",0]},"class_type":"ToBasicPipe","_meta":{"title":"ToBasicPipe"}},"extra":{"workspace_info":{"id":"ffbc19ce-b9a8-41ad-a57b-153f4c80fb24","name":"hair-restyle_api"}}}